webpackJsonp([12],{"0jH9":function(t,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=r("Dd8w"),s=r.n(e),o=r("fZjL"),n=r.n(o),i=r("Gu7T"),l=r.n(i),c=(r("ssT3"),r("sUu7")),d=r("wGWZ"),p=r("SjS3");n()(d).forEach(function(t){Object(c.c)(t,s()({},d[t],{message:p.messages[t]}))}),Object(c.c)("alpha_first",{validate:function(t){return null!==t.match(/^[a-zA-Z]+/)},message:"第一個字符，需以字母開頭"});var u={name:"Register",data:function(){return{form:{username:"",password:"",cpassword:"",captcha:""},captchaTpl:"",captchaErrorMsgShow:!1,alertShow:null,alertMsg:"",alertType:""}},created:function(){this.getCaptcha()},methods:{getCaptcha:function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"QWERTYUIOPLKJHGFDSAZXCVBNM1234567890",r="",e=[];try{e=[].concat(l()(Array(t))).map(function(){return a[Math.floor(Math.random()*a.length)]})}catch(t){}return e.forEach(function(t){r+="<span>"+t+"</span>"}),e=e.join(""),{tpl:r,captcha:e}}(3),a=t.tpl,r=t.captcha;this.captchaTpl=a,this.localCaptcha=r},onSubmit:function(t){if(t.preventDefault(),this.form.captcha.toUpperCase()!==this.localCaptcha)this.captchaErrorMsgShow=!0,document.getElementById("captcha").select(),this.getCaptcha();else{var a={name:this.form.username,password:this.form.password,avatar:"https://api.adorable.io/avatars/200/"+this.form.username+".png"},r=this.$store.state.user;r&&r.name===a.name?this.showAlert("用戶名已存在"):this.login(a)}},login:function(t){this.$store.dispatch("login",t)},showAlert:function(t){var a=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";this.alertMsg=t,this.alertType=r,this.alertShow=!1,this.$nextTick(function(){a.alertShow=!0,document.documentElement.scrollTop=20})}},components:{ValidationProvider:c.b,ValidationObserver:c.a}},f={render:function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("b-row",{attrs:{"align-h":"center"}},[r("b-col",{staticClass:"mx-auto",attrs:{md:"5"}},[r("b-alert",{attrs:{variant:t.alertType,dismissible:"",fade:"",show:t.alertShow}},[t._v("\r\n        "+t._s(t.alertMsg)+"\r\n        ")]),t._v(" "),r("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var e=a.invalid;return[r("b-form",{on:{submit:t.onSubmit}},[r("b-card-group",[r("b-card",{staticClass:"bg-light",attrs:{title:"會員註冊"}},[r("b-card-text",[r("hr"),t._v(" "),r("ValidationProvider",{attrs:{name:"會員名稱",rules:"required|min:3|max:30|alpha_first"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.valid,s=a.errors;return[r("b-form-group",{attrs:{label:"會員名稱: ","label-for":"username",description:"測試環境僅支援單一會員註冊，即新註冊資料會覆蓋舊註冊資料。"}},[r("b-form-input",{attrs:{id:"username",state:!s[0]&&(!!e||null),placeholder:"請輸入會員名稱"},model:{value:t.form.username,callback:function(a){t.$set(t.form,"username",a)},expression:"form.username"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v(t._s(s[0]))])],1)]}}],null,!0)}),t._v(" "),r("ValidationProvider",{attrs:{rules:"required|min:6|max:16",name:"密碼",vid:"password"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.valid,s=a.errors;return[r("b-form-group",{attrs:{label:"密碼: ","label-for":"password",description:""}},[r("b-form-input",{attrs:{id:"password",type:"password",state:!s[0]&&(!!e||null),placeholder:"請輸入密碼"},model:{value:t.form.password,callback:function(a){t.$set(t.form,"password",a)},expression:"form.password"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v(t._s(s[0]))])],1)]}}],null,!0)}),t._v(" "),r("ValidationProvider",{attrs:{rules:"required|confirmed:password",name:"確認密碼"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.valid,s=a.errors;return[r("b-form-group",{attrs:{label:"確認密碼: ","label-for":"cpassword"}},[r("b-form-input",{attrs:{id:"cpassword",type:"password",state:!s[0]&&(!!e||null),placeholder:"請再次輸入密碼"},model:{value:t.form.cpassword,callback:function(a){t.$set(t.form,"cpassword","string"==typeof a?a.trim():a)},expression:"form.cpassword"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v(t._s(s[0]))])],1)]}}],null,!0)}),t._v(" "),r("ValidationProvider",{attrs:{name:"圖片驗證碼",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.valid,s=a.errors;return[r("b-form-group",{attrs:{label:"圖片驗證碼: ","label-for":"captcha"}},[r("b-form-input",{attrs:{id:"captcha",state:!s[0]&&(!!e||null),placeholder:"請輸入圖片驗證碼"},model:{value:t.form.captcha,callback:function(a){t.$set(t.form,"captcha",a)},expression:"form.captcha"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v(t._s(s[0]))]),t._v(" "),t.captchaErrorMsgShow?r("div",{staticClass:"invalid-feedback d-block"},[t._v("\r\n                                    驗證碼不正確")]):t._e()],1)]}}],null,!0)}),t._v(" "),r("div",{staticClass:"thumbnail border border-light rounded",attrs:{id:"booltip-1"},on:{click:t.getCaptcha}},[r("div",{staticClass:"captcha text-center",domProps:{innerHTML:t._s(t.captchaTpl)}})]),t._v(" "),r("b-tooltip",{attrs:{target:"booltip-1",title:"點擊圖片重新獲取驗證碼",placement:"right"}}),t._v(" "),r("b-button",{staticClass:"mt-4",attrs:{disabled:e,type:"submit",variant:"primary",block:""}},[r("b-icon",{attrs:{icon:"person-plus-fill"}}),t._v("\r\n                            註 冊")],1)],1)],1)],1)],1)]}}])})],1)],1)},staticRenderFns:[]};var m=r("VU/8")(u,f,!1,function(t){r("aphe")},"data-v-05deca14",null);a.default=m.exports},aphe:function(t,a){}});
//# sourceMappingURL=12.895e329a589e264d0781.js.map