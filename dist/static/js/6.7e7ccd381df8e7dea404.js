webpackJsonp([6],{C1wR:function(t,a){},o8vE:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=s("pFYg"),e=s.n(r),i=s("Dd8w"),n=s.n(i),o=s("fZjL"),c=s.n(o),d=s("sUu7"),l=s("wGWZ"),u=s("SjS3");c()(l).forEach(function(t){Object(d.c)(t,n()({},l[t],{message:u.messages[t]}))});var v={name:"EditAvatar",data:function(){return{form:{avatar:""},alertShow:null,alertMsg:"",alertType:"",dismissSecs:5,dismissCountDown:0}},created:function(){var t=this.$store.state.user;t&&"object"===(void 0===t?"undefined":e()(t))&&(this.form.avatar=t.avatar)},methods:{onSubmit:function(t){var a=this;t.preventDefault();var s=this.form.avatar;if(s){var r=new Image;r.onload=function(){a.$store.dispatch("updateUser",{avatar:s}),a.showAlert("更新成功")},r.onerror=function(){a.showAlert("更新失敗","danger")},r.src=s}},showAlert:function(t){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.alertMsg=t,this.alertType=s,this.alertShow=!1,this.$nextTick(function(){a.dismissCountDown=a.dismissSecs,document.documentElement.scrollTop=20})},countDownChanged:function(t){this.dismissCountDown=t}},components:{ValidationProvider:d.b,ValidationObserver:d.a}},m={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("b-col",[s("b-alert",{attrs:{variant:t.alertType,dismissible:"",fade:"",show:t.dismissCountDown},on:{dismissed:function(a){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[s("p",[t._v(t._s(t.alertMsg))]),t._v(" "),s("b-progress",{attrs:{variant:t.alertType,max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1),t._v(" "),s("b-breadcrumb",{staticClass:"bg-white"},[s("b-breadcrumb-item",{attrs:{to:"/"}},[s("b-icon",{attrs:{icon:"house-fill",variant:"dark",scale:"1.25","shift-v":"1.25","aria-hidden":"true"}}),t._v(" "),s("span",{staticClass:"text-dark"},[t._v(" Home")])],1),t._v(" "),s("b-breadcrumb-item",{attrs:{active:""}},[t._v("個人資料 - 修改頭像")])],1),t._v(" "),s("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var r=a.invalid;return[s("b-form",{on:{submit:t.onSubmit}},[s("b-card-group",{staticClass:"border shadow-sm p-1 mb-5"},[s("b-card-body",[s("b-card",{staticClass:"border-0"},[s("b-card-text",[s("b-card-title",[s("b-icon",{staticClass:"h1",attrs:{icon:"image",variant:"primary"}}),t._v(" \n                                修改頭像\n                            ")],1),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"d-flex justify-content-md-center"},[s("b-card-img",{staticClass:"mb-5",attrs:{src:t.form.avatar,alt:"Avator 預覽"}})],1),t._v(" "),s("ValidationProvider",{attrs:{name:"頭像網址",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.valid,e=a.errors;return[s("b-form-group",{attrs:{label:"頭像網址: ","label-for":"avatar",description:""}},[s("b-form-input",{attrs:{id:"avatar",state:!e[0]&&(!!r||null),placeholder:""},model:{value:t.form.avatar,callback:function(a){t.$set(t.form,"avatar",a)},expression:"form.avatar"}}),t._v(" "),s("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[t._v(t._s(e[0]))])],1)]}}],null,!0)}),t._v(" "),s("b-button",{staticClass:"mt-4",attrs:{disabled:r,type:"submit",variant:"primary",block:""}},[s("b-icon",{attrs:{icon:"wrench"}}),t._v(" 修 改\n                            ")],1)],1)],1)],1)],1)],1)]}}])})],1)},staticRenderFns:[]};var b=s("VU/8")(v,m,!1,function(t){s("C1wR")},"data-v-b29f5632",null);a.default=b.exports}});
//# sourceMappingURL=6.7e7ccd381df8e7dea404.js.map