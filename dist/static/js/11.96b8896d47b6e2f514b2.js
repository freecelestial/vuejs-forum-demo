webpackJsonp([11],{Plmk:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("pFYg"),o=r.n(i),s=r("Dd8w"),n=r.n(s),a=r("fZjL"),d=r.n(a),l=r("sUu7"),u=r("wGWZ"),c=r("SjS3");d()(u).forEach(function(e){Object(l.c)(e,n()({},u[e],{message:c.messages[e]}))}),Object(l.c)("alpha_first",{validate:function(e){return null!==e.match(/^[a-zA-Z]+\w*\s?\w*$/)},message:"第一個字符，需以字母開頭"});var m={name:"EditProfile",data:function(){return{form:{username:"",gender:"null",genderList:[{text:"未知",value:"null"},{text:"男",value:"male"},{text:"女",value:"female"}],hobbiesList:["上網","運動","旅遊","畫圖","其它"],hobbies:[],introduction:""},alertShow:null,alertMsg:"",alertType:"",dismissSecs:5,dismissCountDown:0}},created:function(){var e=this.$store.state.user;if(e&&"object"===(void 0===e?"undefined":o()(e))){var t=e.name,r=e.gender,i=e.hobbies,s=e.introduction;this.form.username=t,this.form.gender=r||this.form.gender,this.form.hobbies=i||this.form.hobbies,this.form.introduction=s}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),this.$nextTick(function(){t.$store.dispatch("updateUser",{name:t.form.username,gender:t.form.gender,hobbies:t.form.hobbies,introduction:t.form.introduction}),t.showAlert("修改成功")})},showAlert:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.alertMsg=e,this.alertType=r,this.alertShow=!1,this.$nextTick(function(){t.dismissCountDown=t.dismissSecs,document.documentElement.scrollTop=20})},countDownChanged:function(e){this.dismissCountDown=e}},components:{ValidationProvider:l.b,ValidationObserver:l.a}},b={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-col",[r("b-alert",{attrs:{variant:e.alertType,dismissible:"",fade:"",show:e.dismissCountDown},on:{dismissed:function(t){e.dismissCountDown=0},"dismiss-count-down":e.countDownChanged}},[r("p",[e._v(e._s(e.alertMsg))]),e._v(" "),r("b-progress",{attrs:{variant:e.alertType,max:e.dismissSecs,value:e.dismissCountDown,height:"4px"}})],1),e._v(" "),r("b-breadcrumb",{staticClass:"bg-white"},[r("b-breadcrumb-item",{attrs:{to:"/"}},[r("b-icon",{attrs:{icon:"house-fill",variant:"dark",scale:"1.25","shift-v":"1.25","aria-hidden":"true"}}),e._v(" "),r("span",{staticClass:"text-dark"},[e._v(" Home")])],1),e._v(" "),r("b-breadcrumb-item",{attrs:{active:""}},[e._v("個人資料 - 基本資料")])],1),e._v(" "),r("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var i=t.invalid;return[r("b-form",{on:{submit:e.onSubmit}},[r("b-card-group",{staticClass:"border shadow-sm p-1 mb-5"},[r("b-card-body",[r("b-card",{staticClass:"border-0"},[r("b-card-text",[r("b-card-title",[r("b-icon",{staticClass:"h1",attrs:{icon:"people-circle",variant:"primary"}}),e._v(" \n                                基本資料\n                            ")],1),e._v(" "),r("hr"),e._v(" "),r("ValidationProvider",{attrs:{name:"用戶名",rules:"required|min:3|max:30|alpha_first"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.valid,o=t.errors;return[r("b-form-group",{attrs:{label:"用戶名: ","label-for":"username",description:""}},[r("b-form-input",{attrs:{id:"username",state:!o[0]&&(!!i||null),placeholder:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),e._v(" "),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[e._v(e._s(o[0]))])],1)]}}],null,!0)}),e._v(" "),r("ValidationProvider",{attrs:{name:"性別",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var i=t.errors;return[r("b-form-group",{attrs:{label:"性別: "}},[r("b-form-radio-group",{attrs:{id:"gender",options:e.form.genderList,name:"性別"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}})],1),e._v(" "),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[e._v(e._s(i[0]))])]}}],null,!0)}),e._v(" "),r("ValidationProvider",{attrs:{name:"興趣",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){t.valid;var i=t.errors;return[r("b-form-group",{attrs:{label:"興趣: "}},[r("b-form-checkbox-group",{attrs:{id:"hobbies",options:e.form.hobbiesList,name:"興趣"},model:{value:e.form.hobbies,callback:function(t){e.$set(e.form,"hobbies",t)},expression:"form.hobbies"}})],1),e._v(" "),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[e._v(e._s(i[0]))])]}}],null,!0)}),e._v(" "),r("ValidationProvider",{attrs:{name:"簡介",rules:"max:200"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.valid,o=t.errors;return[r("b-form-group",{attrs:{label:"簡介: ","label-for":"introduction",description:"最多 200 字元"}},[r("b-form-textarea",{attrs:{id:"introduction",state:!o[0]&&(!!(i&&e.form.introduction&&e.form.introduction.length>0)||null),rows:"4","max-rows":"10",placeholder:""},model:{value:e.form.introduction,callback:function(t){e.$set(e.form,"introduction",t)},expression:"form.introduction"}}),e._v(" "),r("b-form-invalid-feedback",{attrs:{id:"inputLiveFeedback"}},[e._v(e._s(o[0]))])],1)]}}],null,!0)}),e._v(" "),r("b-button",{staticClass:"mt-4",attrs:{disabled:i,type:"submit",variant:"primary",block:""}},[r("b-icon",{attrs:{icon:"wrench"}}),e._v(" 修 改\n                            ")],1)],1)],1)],1)],1)],1)]}}])})],1)},staticRenderFns:[]};var f=r("VU/8")(m,b,!1,function(e){r("hI9S")},"data-v-0df16df8",null);t.default=f.exports},hI9S:function(e,t){}});
//# sourceMappingURL=11.96b8896d47b6e2f514b2.js.map