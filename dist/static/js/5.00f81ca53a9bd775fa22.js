webpackJsonp([5],{G7FF:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-col",{staticClass:"search-results"},[s("b-breadcrumb",{staticClass:"bg-white"},[s("b-breadcrumb-item",{attrs:{to:"/"}},[s("b-icon",{attrs:{icon:"house-fill",scale:"1.25","shift-v":"1.25","aria-hidden":"true"}}),t._v("\n         Home\n        ")],1),t._v(" "),s("b-breadcrumb-item",{attrs:{active:""}},[t._v("搜尋結果")])],1),t._v(" "),s("b-card-group",[s("b-card",{staticClass:"border shadow-sm p-3 mb-5"},[s("b-card-title",{staticClass:"pb-3 mb-4 border-bottom"},[s("h3",[s("b-icon",{attrs:{icon:"search"}}),t._v("\n                    關於 “"),s("span",{staticClass:"highlight"},[t._v(t._s(t.keyword))]),t._v("” 的搜索結果, 共 \n                    "+t._s(t.results.length)+" 條\n                    "),t._v(" "),s("div",{staticClass:"pull-right mt-n2"},t._l(t.filters,function(e){return s("b-button",{key:e.filter,staticClass:"mx-1",attrs:{disabled:e.filter===t.filter,href:"javascript:;",variant:"info",size:"sm"},on:{click:function(s){return t.getArticlesByKeyword(t.keyword,e.filter)}}},[s("b-icon",{attrs:{icon:e.icon}}),t._v(" "+t._s(e.title)+"\n                        ")],1)}),1)],1)]),t._v(" "),s("b-list-group",{attrs:{flush:""}},[t._l(t.results,function(e){return s("div",{key:e.articleId,staticClass:"result"},[s("h3",{staticClass:"title"},[s("router-link",{attrs:{to:"/articles/"+e.articleId+"/content"}},[s("span",{domProps:{innerHTML:t._s(e.title)}})]),t._v(" "),s("small",[t._v("by")]),t._v(" "),s("b-avatar",{attrs:{to:"/"+e.uname,size:"sm",variant:"light",src:e.uavatar}}),t._v(" "),s("small",[t._v(t._s(e.uname))])],1),t._v(" "),s("div",{staticClass:"info"},[s("span",{staticClass:"url"},[s("router-link",{attrs:{to:"/articles/"+e.articleId+"/content"}},[t._v("\n                            "+t._s(e.url)+"\n                            ")])],1),t._v(" "),s("span",{staticClass:"date"},[t._v("\n                            "+t._s(t._f("moment")(e.date,"from",{startOf:"minute"}))+" ⋅\n                            "),s("b-icon",{attrs:{icon:"heart-fill",variant:"danger"}}),t._v("\n                            "+t._s(e.likeUsers&&e.likeUsers.length||0)+" ⋅\n                            "),s("b-icon",{attrs:{icon:"chat-dots-fill",variant:"info"}}),t._v("\n                            "+t._s(e.comments&&e.comments.length||0)+"\n                        ")],1)]),t._v(" "),s("div",{staticClass:"desc",domProps:{innerHTML:t._s(e.content)}}),t._v(" "),s("hr")])}),t._v(" "),t.results.length?t._e():s("div",{staticClass:"empty-block"},[t._v("\n                    沒有任何數據~~\n                ")])],2)],1)],1)],1)},staticRenderFns:[]};var i=s("VU/8")({name:"Search",data:function(){return{keyword:"",results:[],filter:"default",filters:[{filter:"default",title:"依相關性排序",icon:"filter"},{filter:"vote",title:"依點讚數排序",icon:"heart"}]}},beforeRouteEnter:function(t,e,s){s(function(e){e.getArticlesByKeyword(t.query.q)})},beforeRouteUpdate:function(t,e,s){this.getArticlesByKeyword(t.query.q),s()},beforeRouteLeave:function(t,e,s){this.$store.commit("UPDATE_SEARCH_VALUE",""),s()},methods:{getArticlesByKeyword:function(t,e){t&&(this.keyword=t,e&&(this.filter=e),this.$store.commit("UPDATE_SEARCH_VALUE",t),this.results=this.$store.getters.getArticlesByKeyword(t,e))}}},r,!1,function(t){s("q7+C")},"data-v-e080c892",null);e.default=i.exports},"q7+C":function(t,e){}});
//# sourceMappingURL=5.00f81ca53a9bd775fa22.js.map